<dom-module id="crm-options">
	<template>
		<link rel="import" href="../../elements/elements.html" />
		<link rel="stylesheet" href="../../jquery.contextMenu.css" />
		<link rel="stylesheet" href="crm-options.css" />
		<div class="popupCont">
			<div id="fullscreenEditor">
				<div id="editorCurrentScriptTitle">[[scriptItem.name]]</div>
				<div id="fullscreenEditorHorizontal">
					<div id="editorToolsRibbon">
						<div on-tap="launchExternalEditorDialog" class="ribbonTool" id="externalEditorDialogTrigger">Use External Editor</div>
						<paper-libraries-selector id="paperLibrariesSelector" class="ribbonTool" usedlibraries="[[scriptItem.value.libraries]]"></paper-libraries-selector>
						<paper-get-page-properties id="paperGetPageProperties" class="ribbonTool"></paper-get-page-properties>
						<div on-tap="launchSearchWebsiteTool" class="ribbonTool" id="paperSearchWebsitesToolTrigger">Search Website</div>
						<div on-tap="runJsLint" class="ribbonTool" id="runJsLintButton">Run JSLint</div>
					</div>
				</div>
			</div>
			<crm-edit-page hidden$="[[!show]]" id="editPage" item="{{item}}"></crm-edit-page>
		</div>
		<div class="overlayCont"></div>
		<div class="pageCont">
			<paper-toolbar>
				<div flex title class="title">Custom Right-Click Menu</div>
			</paper-toolbar>
			<div class="container">
				<paper-button>YO</paper-button>
				<br/>
				<div class="titleCont">
					<div class="bigTxt">
						Custom Right-Click Menu
					</div>
					<div class="mainDescr">
						Welcome to Custom Right-Click Menu. This extension lets you customize a section in your right-click menu. You can either create a link to a website or create your own script to run upon clicking it. You can right-click anywhere on this page to view the custom right-click menu (this will be wrapped in a "Custom Menu" subsection on other pages.
					</div>
				</div>
				<br/>
				<br/>
				<div class="optionsCont">
					<div class="bigTxt">
						Options
					</div>
					<div class="options">
						<paper-toggle-option text="Show options link in right-click menu" id="showOptions"></paper-toggle-option>
						<paper-toggle-option text="Open any pressed link in the current tab instead of a new one" id="openInCurrentTab"></paper-toggle-option>
						<paper-toggle-option text="Edit the Custom Right-Click Menu by clicking on the respective elements when right-clicking on this page" id="editCRMInRM"></paper-toggle-option>
					</div>
				</div>
				<br/><br/>
				<div class="customRightClickMenuConfig">
					<div class="bigTxt">
						Editing the Custom Right-Click Menu
					</div>
					<div class="customRightClickMenuEdit">
						<edit-crm></edit-crm>
					</div>
				</div>
				<br/><br/>
				<div class="defaultCRMLinks">
					<div class="bigTxt">
						Commonly Used Links
					</div>
					<div class="defaultsDescr">
						Here are some commonly used links to get you started. Click the "ADD" button to add the link to your custom right-click menu. It will be added at the end of the list but you can always change the order later if you want.
					</div>
					<br/>
					<div class="defaultLinks">
						<default-link href="http://www.google.com" default-name="Google"></default-link>
						<default-link href="http://www.facebook.com" default-name="Facebook"></default-link>
						<default-link href="http://www.twitter.com" default-name="Twitter"></default-link>
						<default-link href="http://www.youtube.com" default-name="Youtube"></default-link>
						<default-link href="http://www.yahoo.com" default-name="Yahoo"></default-link>
						<default-link href="http://www.wikipedia.org" default-name="Wikipedia"></default-link>
						<default-link href="http://www.amazon.com" default-name="Amazon"></default-link>
						<default-link href="http://www.ebay.com" default-name="Ebay"></default-link>
						<default-link href="http://www.reddit.com" default-name="Reddit"></default-link>
					</div>
				</div>
				<div class="trailingBrs">
					<br/><br/><br/>
				</div>
			</div>
			<paper-toast id="paperToast" text="You just changed a menu to a different type, all children will disappear untill it's changed back (dragging possible untill page reload)" duration="10000">
				<span id="menuSwitchUndoButton" role="button">UNDO</span>
			</paper-toast>
			<!--
			//TODO place link
			-->
			<paper-toast id="externalEditorErrorToast" text="Something went wrong connecting to the CRM App, make sure you have the app installed <-LINK->" duration="10000">
				<span id="externalEditorTryAgainButton" role="button">RETRY</span>
			</paper-toast>
			<paper-toast id="externalEditorLocationToast" text="The file is located at...." duration="10000">
				<a href="file:///C:/" target="_blank" id="externalEditoOpenLocationInBrowser" role="button">OPEN IN BROWSER</a>
			</paper-toast>
			<paper-dialog id="restoreChangesDialog" with-backdrop no-cancel-on-esc-key entry-animation="scale-up-animation" exit-animation="fade-out-animation">
				<div id="restoreChangesMain">
					<h2>We have detected that you closed an editing instance without saving or discarding it, are you sure you wanted to do this?</h2>
					<br/>
					<div id="highlightChangedScript" class="restoreChangesOption">What script?</div>
					<div id="restoreChangesShowOld" class="restoreChangesOption">What's the old code?</div>
					<div id="restoreChangesShowUnsaved" class="restoreChangesOption">What's the unsaved code?</div>
					<div class="buttons">
						<paper-button class="discardButton" dialog-dismiss>Discard</paper-button>
						<paper-button class="keepChangesButton" dialog-confirm>Keep</paper-button>
					</div>
				</div>
				<div id="restoreChangesOldCode">
					<h2>
						Old Code
					</h2>
					<div id="restoreChangesOldCodeCont"></div>
					<div class="buttons">
						<paper-button class="restoreChangesBack">Back</paper-button>
						<paper-button class="discardButton" dialog-dismiss>Discard</paper-button>
						<paper-button class="keepChangesButton" dialog-confirm>Keep</paper-button>
					</div>
				</div>
				<div id="restoreChangesUnsavedCode">
					<h2>
						Unsaved Code
					</h2>
					<div id="restoreChangeUnsaveddCodeCont"></div>
					<div class="buttons">
						<paper-button class="restoreChangesBack">Back</paper-button>
						<paper-button class="discardButton" dialog-dismiss>Discard</paper-button>
						<paper-button class="keepChangesButton" dialog-confirm>Keep</paper-button>
					</div>
				</div>
			</paper-dialog>
			<paper-dialog no-cancel-on-esc-key="true" no-cancel-on-outside-click="true" id="externalEditorChooseScript" with-backdrop entry-animation="scale-up-animation" exit-animation="fade-out-animation">
				<div id="chooseScriptMainDialog">
					<h2>Choose the script you want to keep</h2>
					<paper-radio-group selected="local" id="chooseScriptRadioGroup">
						<paper-radio-button name="local">The script in this editor</paper-radio-button>
						<paper-radio-button name="external">The script that is currently in the file</paper-radio-button>
					</paper-radio-group>
					<br/>
					<paper-button raised id="chooseScriptMerge">Merge</paper-button>
					<div class="buttons">
						<paper-button class="closeChooseScriptDialog">Cancel</paper-button>
						<paper-button id="chooseScriptChooseFirst" dialog-confirm>Confirm</paper-button>
					</div>
				</div>
				<div id="chooseScriptMerger">
					<h1>Merge the script to how you want it</h1>
					<div id="chooseScriptMergerText">
						<div id="chooseScriptCurrentTxt">CRM Editor</div>
						<div id="chooseScriptResultTxt">Result</div>
						<div id="chooseScriptNewTxt">File</div>
					</div>
					<div id="chooseScriptMergerEditor">
						<div id="chooseScriptMergerPlaceholder">
							<center-element fullscreen="true">
								<paper-spinner active></paper-spinner>
							</center-element>
						</div>
						<div id="chooseScriptmergerContainer"></div>
					</div>
					<div class="buttons">
						<paper-button class="closeChooseScriptDialog">Cancel</paper-button>
						<paper-button id="chooseScriptStopMerging">Stop merging</paper-button>
						<paper-button id="chooseScriptChooseMerge" dialog-confirm>Confirm</paper-button>
					</div>
				</div>
			</paper-dialog>
			<paper-dialog no-cancel-on-esc-key="true" with-backdrop id="addLibraryDialog" entry-animation="scale-up-animation" exit-animation="fade-out-animation">
				<div id="addLibraryLoadingDialog">
					<div id="addLibraryLoadingDialogCenterer">
						<paper-spinner active></paper-spinner>
					</div>
				</div>
				<div id="addLibraryProcessContainer">
					<h2>Add your own library</h2>
					<paper-input error-message="please enter a name" id="addedLibraryName" label="name"></paper-input>
					<paper-radio-group id="addLibraryRadios" selected="url">
						<paper-radio-button id="addLibraryUrlOption" name="url">Input a url</paper-radio-button>
						<paper-radio-button id="addLibraryManualOption" name="manual">Input the code</paper-radio-button>
					</paper-radio-group>
					<paper-input pattern="$a" id="addLibraryUrlInput" label="url" error-message="url does not host anything"></paper-input>
					<paper-textarea id="addLibraryManualInput" label="code"></paper-textarea>
					<div class="buttons">
						<paper-button dialog-dismiss>Cancel</paper-button>
						<paper-button id="addLibraryButton">Add</paper-button>
					</div>
				</div>
				<div id="addLibraryConfirmationContainer">
					<h2>Does this look okay to you?</h2>
					<paper-textarea id="addLibraryConfirmationInput"></paper-textarea>
					<div class="buttons">
						<paper-button id="addLibraryDenyConfirmation">No</paper-button>
						<paper-button id="addLibraryConfirmAddition">Yes</paper-button>
					</div>
				</div>
				<div id="addLibraryDialogSucces">
					<div id="addLibraryDialogSuccesCheckmark" class="checkmark"></div>
					<div id="addLibraryDialogSuccesText">Added!</div>
				</div>
			</paper-dialog>
			<paper-search-website-dialog id="paperSearchWebsiteDialog"></paper-search-website-dialog>
			<use-external-editor id="useExternalEditor"></use-external-editor>
			<div id="dummy"></div>
		</div>
	</template>
</dom-module>
<script src="../../js/jquery-2.0.3.min.js"></script>
<script src="../../js/jquery-ui.min.js"></script>
<script src="../../js/jquery.requestAnimationFrame.min.js"></script>
<script src="../../js/jquery.contextMenu.js"></script>
<script src="../../js/jquery.bez.js"></script>
<script src="crm-options.js"></script>